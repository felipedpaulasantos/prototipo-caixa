<h1 class="header-principal-caixa">
  Contas
</h1>
<hr class="header-line-caixa">

<div class="card card-caixa">
  <div class="card-body">
      <section *ngIf="!accounts || (accounts && accounts.length == 0)" class="row m-0 p-0">
        <div class="col">
          <div class="alert alert-danger">
              <i class="fas fa-times-circle mr-2"></i>
              Não foi possível consultar as contas.
          </div>
          <button class="btn btn-secondary btn-caixa" (click)="listAccounts()">
              Consultar novamente
          </button>
        </div>
      </section>
      <table tableCaixa id="tableAccountSelect" class="table table-caixa">
        <thead>
          <tr>
            <th>Número</th>
            <th>Descrição</th>
            <th>Endpoint</th>
            <th>Status</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let account of accounts">
            <td>{{ account.getTelefoneFormatado() }}</td>
            <td>{{ account.description }}</td>
            <td>{{ account.endpoint }}</td>
            <td>{{ account.status == "A" ? "Ativo" : "Inativo" }}</td>
            <td>
              <span class="btn btn-outline-primary btn-sm btn-caixa" (click)="redirectTo(account.id)">
                <i class="fas fa-edit mr-2"></i>
                Detalhar
              </span>
            </td>
          </tr>
        </tbody>
      </table>
  </div>
</div>

<br>

<router-outlet name="accountOutlet"></router-outlet>

<app-account-create-modal></app-account-create-modal>

