<div #accountCreateModal class="modal fade" id="accountCreateModal" tabindex="-1" role="dialog" aria-labelledby="defaultModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title">Criar Conta</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <form [formGroup]="accountForm" class="form-caixa">

              <section class="row mb-1">
                <div class="col-md-6">

                    <div class="form-group">
                      <label for="id">ID (número de telefone)</label>
                      <app-tooltip-icon
                        text="Mínimo de 12 dígitos, exemplo: 551101234567">
                      </app-tooltip-icon>
                      <input formControlName="id" mask="9*" class="form-control" minlength=12 maxlength=15 autofocus>
                    </div>

                    <div class="form-group">
                        <label for="user">User</label>
                        <app-tooltip-icon
                          text="Usuário para comunicação com API do WhatsApp">
                        </app-tooltip-icon>
                        <input formControlName="user" class="form-control" type="text">
                    </div>

                    <div class="form-group">
                      <label for="description">Descrição</label>
                      <input formControlName="description" class="form-control" type="text">
                    </div>
                    <div class="form-group">
                        <label for="endpoint">Endpoint</label>
                        <app-tooltip-icon
                          text="URL do docker onde está instalada a API do WhatsApp">
                        </app-tooltip-icon>
                        <textarea formControlName="endpoint" class="form-control" type="text"></textarea>
                    </div>
                    <div *ngIf="accountForm.get('endpoint').invalid" class="alert alert-danger">
                      {{ accountForm.get('endpoint').errors | json }}
                    </div>

                    <div class="form-group">
                        <label for="status">Status</label>
                        <select formControlName="status" class="form-control custom-select">
                          <option value="A">Ativo</option>
                          <option value="I">Inativo</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6">
                  <div formGroupName="serviceParameters">

                    <div class="form-group">
                        <label for="name">Gerenciador</label>
                        <app-tooltip-icon
                          text="Identificação do sistema que gerencia as conversas desta conta">
                        </app-tooltip-icon>
                        <input formControlName="name" class="form-control" type="text" maxlength="5">
                    </div>

                    <div class="form-group">
                        <label for="endpoint">URL do Gerenciador</label>
                        <textarea formControlName="endpoint" class="form-control" type="text"></textarea>
                    </div>

                    <div class="custom-control custom-switch py-3">
                        <input formControlName="storeReceivedMessages" id="storeReceivedMessages" class="custom-control-input" type="checkbox">
                        <label for="storeReceivedMessages" class="custom-control-label">
                            Armazenar Mensagens Recebidas
                        </label>
                    </div>
                    <div class="custom-control custom-switch py-3">
                        <input formControlName="storeSentMessages" id="storeSentMessages" class="custom-control-input" type="checkbox">
                        <label for="storeSentMessages" class="custom-control-label">
                            Armazenar Mensagens Enviadas
                        </label>
                    </div>
                    <div class="custom-control custom-switch py-3">
                        <input formControlName="updateErrors" id="updateErrors" class="custom-control-input" type="checkbox">
                        <label for="updateErrors" class="custom-control-label">
                            Atualizar Erros
                        </label>
                    </div>
                    <div class="custom-control custom-switch py-3">
                      <input formControlName="updateStatus" id="updateStatus" class="custom-control-input" type="checkbox">
                      <label for="updateStatus" class="custom-control-label">
                          Atualizar Status
                      </label>
                    </div>
                  </div>
                </div>
              </section>
            </form>
          </div>
          <div class="modal-footer">
              <button id="btModalCancelar" type="button" class="btn btn-secondary btn-caixa" data-dismiss="modal" (click)="cancelar()">
                Cancelar
              </button>
              <button [disabled]="accountForm.invalid" id="btModalOk" type="button" class="btn btn-success" (click)="createAccount()">
                Criar
              </button>
          </div>
      </div>
  </div>
</div>
