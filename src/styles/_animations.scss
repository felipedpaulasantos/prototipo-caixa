@use "cx-variables";

/* 
	Efeito de aparecimento de dropdown
*/

@keyframes slideIn {
  0% {
    transform: translateY(1rem);
    opacity: 0;
  }

  100% {
    transform: translateY(0rem);
    opacity: 1;
  }

  0% {
    transform: translateY(1rem);
    opacity: 0;
  }
}

@-webkit-keyframes slideIn {
  0% {
    -webkit-transform: transform;
    -webkit-opacity: 0;
  }

  100% {
    -webkit-transform: translateY(0);
    -webkit-opacity: 1;
  }

  0% {
    -webkit-transform: translateY(1rem);
    -webkit-opacity: 0;
  }
}

/* 
  Efeito de onda em bot√µes
*/

.ripple {
  position: relative;
  overflow: hidden;
  transform: translate3d(0, 0, 0);
}
.ripple:after {
  content: "";
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  background-image: radial-gradient(circle, cx-variables.$cx-color-lightest 10%, transparent 10.01%);
  background-repeat: no-repeat;
  background-position: 50%;
  transform: scale(10, 10);
  opacity: 0;
  transition: transform .5s, opacity 1s;
}
.ripple:active:after {
  transform: scale(0, 0);
  opacity: .3;
  transition: 0s;
}
.ripple-dark {
  @extend .ripple;
}
.ripple-dark:after {
  background-image: radial-gradient(circle, cx-variables.$cx-color-darkest 10%, transparent 10.01%) !important;
}


/* 
  Efeito ripple em inputs 
*/

@keyframes input-ripple {
  0% {
    background-position: 50% 100%, calc(50% - var(--click-el-w, 0px)/2 + var(--click-offset-x, 0px)) 100%;
  }
  100% {
    background-position: 50% 100%, calc(50% - var(--click-el-w, 0px)/2 + var(--click-offset-x, 0px)) 100%;
  }
}

@each $theme, $colors in cx-variables.$cx-colors {
  .input-ripple-#{$theme} {
    transition: background-size 0.4s, background-color 0.4s, border-color 0.5s ease-in-out, box-shadow 0.15s ease-in-out;
    &,
    &:focus,
    &:active,
    &[aria-expanded="true"],
    &.focused {
      @if ($theme=="danger"or $theme=="success") {
        background-image:
          linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 100%),
          linear-gradient(0deg, nth($colors, 1) 0%, nth($colors, 1) 100%) !important;
        border-color: nth($colors, 1) !important;
      }
      @else {
        background-image:
          linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 100%),
          linear-gradient(0deg, nth($colors, 1) 0%, nth($colors, 1) 100%);
      }
      background-repeat: no-repeat;
      background-position: 50% 100%,
      50% 100%;
      background-size: 100% 1px,
      0% 1px;
    }
    &:focus,
    &:active,
    &[aria-expanded="true"],
    &.focused,
    &.click-fx {
      @if ($theme=="danger"or $theme=="success") {
        border-color: nth($colors, 1) !important;
      }
      @else {
        border-color: nth($colors, 1);
      }
      background-size: 100% 1px,
      100% 1px;
      animation: input-ripple 0.5s ease-in !important;
    }
    &.pre-click-fx:not(.post-click-fx) {
      animation: none !important;
    }
  }
}