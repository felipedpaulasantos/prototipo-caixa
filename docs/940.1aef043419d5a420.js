(self.webpackChunkprototipo_caixa=self.webpackChunkprototipo_caixa||[]).push([[940],{940:(b,s,a)=>{"use strict";a.r(s),a.d(s,{ChatModule:()=>l});var u=a(69808),p=a(71771),o=a(5e3),f=a(50685),g=a(16916),h=a(591);let d=(()=>{class v{constructor(){this.contadorSource=new h.X(""),this.contador$=this.contadorSource.asObservable(),this.messageSource=new h.X(""),this.message$=this.messageSource.asObservable()}setupSocketConnection(){this.socket=f(g.N.SOCKET_ENDPOINT),this.socket.emit("my message","Hello there from Angular."),this.socket.on("message",m=>{this.messageSource.next(m)}),this.socket.on("my broadcast",m=>{this.contadorSource.next(m),this.socket.emit("update",m)})}resetSocket(){this.socket.emit("reset",0)}sendMessage(m){this.socket.emit("message",m)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var r=a(68968);const c=function(v){return{"bg-cinza":v}};function n(v,y){if(1&v&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&v){const m=y.$implicit;o.Q6J("ngClass",o.VKq(2,c,y.index%2)),o.xp6(1),o.hij(" ",m," ")}}const e=[{path:"",component:(()=>{class v{constructor(m,F){this.socketService=m,this.toastr=F,this.messages=[]}ngOnInit(){}resetarSocket(){this.socketService.resetSocket()}sendMessage(m){this.scrollSmoothToBottom("chatDiv"),this.socketService.sendMessage(`Front: ${m}`),$("#msgInput input").trigger("focus")}scrollSmoothToBottom(m){const F="#"+m;$(F).stop().animate({scrollTop:$(F)[0].scrollHeight},800)}}return v.\u0275fac=function(m){return new(m||v)(o.Y36(d),o.Y36(r._W))},v.\u0275cmp=o.Xpm({type:v,selectors:[["app-chat"]],decls:18,vars:4,consts:[["id","chatPanel",1,"d-flex","flex-wrap"],[1,"w-100"],[1,"text-center"],["target","_blank",1,"text-link",3,"href"],[1,"text-center","my-3"],[1,"btn","btn-accent","d-flex","mx-auto","align-items-center",3,"click"],[1,"fa","fa-sync-alt","mr-2"],["id","chatDiv"],["class","d-block w-100 p-3",3,"ngClass",4,"ngFor","ngForOf"],["id","msgInput",1,"align-self-end"],[1,"d-flex","align-items-end"],["placeholder","Envie uma mensagem ao servidor",1,"form-control"],["inputMsg",""],[1,"btn","btn-primario","shadow-none",3,"click"],[1,"fa","fa-lg","fa-paper-plane"],[1,"d-block","w-100","p-3",3,"ngClass"]],template:function(m,F){if(1&m){const R=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"h4",2),o.TgZ(3,"a",3),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"h1",4),o._uU(6),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return F.resetarSocket()}),o._UZ(8,"i",6),o._uU(9," Resetar "),o.qZA(),o.qZA(),o.TgZ(10,"div",7),o.YNc(11,n,2,4,"span",8),o.qZA(),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o._UZ(14,"input",11,12),o.TgZ(16,"button",13),o.NdJ("click",function(){o.CHM(R);const w=o.MAs(15);return F.sendMessage(w.value),w.value=""}),o._UZ(17,"i",14),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&m&&(o.xp6(3),o.Q6J("href",F.url,o.LSH),o.xp6(1),o.hij(" ",F.url," "),o.xp6(2),o.Oqu(F.contador||0),o.xp6(5),o.Q6J("ngForOf",F.messages))},directives:[u.sg,u.mk],styles:["#chatPanel[_ngcontent-%COMP%]{height:calc(100vh - 160px);max-height:calc(100vh - 160px)}#chatDiv[_ngcontent-%COMP%]{height:40vh;max-height:40vh;width:100%;overflow-y:scroll}#msgInput[_ngcontent-%COMP%]{width:100%}#msgInput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%}#msgInput[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}"]}),v})()}];let i=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[p.Bz.forChild(e)],p.Bz]}),v})(),l=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[u.ez,i]]}),v})()},88498:b=>{function a(){}b.exports=function(u,p,o){var f=!1;return o=o||a,g.count=u,0===u?p():g;function g(h,d){if(g.count<=0)throw new Error("after called too many times");--g.count,h?(f=!0,p(h),p=o):0===g.count&&!f&&p(null,d)}}},99933:b=>{b.exports=function(s,a,u){var p=s.byteLength;if(a=a||0,u=u||p,s.slice)return s.slice(a,u);if(a<0&&(a+=p),u<0&&(u+=p),u>p&&(u=p),a>=p||a>=u||0===p)return new ArrayBuffer(0);for(var o=new Uint8Array(s),f=new Uint8Array(u-a),g=a,h=0;g<u;g++,h++)f[h]=o[g];return f.buffer}},62150:b=>{function s(a){this.ms=(a=a||{}).min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}b.exports=s,s.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var u=Math.random(),p=Math.floor(u*this.jitter*a);a=0==(1&Math.floor(10*u))?a-p:a+p}return 0|Math.min(a,this.max)},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(a){this.ms=a},s.prototype.setMax=function(a){this.max=a},s.prototype.setJitter=function(a){this.jitter=a}},40390:(b,s)=>{!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256),p=0;p<a.length;p++)u[a.charCodeAt(p)]=p;s.encode=function(o){var g,f=new Uint8Array(o),h=f.length,d="";for(g=0;g<h;g+=3)d+=a[f[g]>>2],d+=a[(3&f[g])<<4|f[g+1]>>4],d+=a[(15&f[g+1])<<2|f[g+2]>>6],d+=a[63&f[g+2]];return h%3==2?d=d.substring(0,d.length-1)+"=":h%3==1&&(d=d.substring(0,d.length-2)+"=="),d},s.decode=function(o){var h,r,c,n,t,f=.75*o.length,g=o.length,d=0;"="===o[o.length-1]&&(f--,"="===o[o.length-2]&&f--);var e=new ArrayBuffer(f),i=new Uint8Array(e);for(h=0;h<g;h+=4)r=u[o.charCodeAt(h)],c=u[o.charCodeAt(h+1)],n=u[o.charCodeAt(h+2)],t=u[o.charCodeAt(h+3)],i[d++]=r<<2|c>>4,i[d++]=(15&c)<<4|n>>2,i[d++]=(3&n)<<6|63&t;return e}}()},113:b=>{var s=void 0!==s?s:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(d){return!1}}(),u=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(d){return!1}}(),p=s&&s.prototype.append&&s.prototype.getBlob;function o(h){return h.map(function(d){if(d.buffer instanceof ArrayBuffer){var r=d.buffer;if(d.byteLength!==r.byteLength){var c=new Uint8Array(d.byteLength);c.set(new Uint8Array(r,d.byteOffset,d.byteLength)),r=c.buffer}return r}return d})}function f(h,d){d=d||{};var r=new s;return o(h).forEach(function(c){r.append(c)}),d.type?r.getBlob(d.type):r.getBlob()}function g(h,d){return new Blob(o(h),d||{})}"undefined"!=typeof Blob&&(f.prototype=Blob.prototype,g.prototype=Blob.prototype),b.exports=a?u?Blob:g:p?f:void 0},1213:b=>{var s=[].slice;b.exports=function(a,u){if("string"==typeof u&&(u=a[u]),"function"!=typeof u)throw new Error("bind() requires a function");var p=s.call(arguments,2);return function(){return u.apply(a,p.concat(s.call(arguments)))}}},1264:b=>{function s(u){if(u)return function(u){for(var p in s.prototype)u[p]=s.prototype[p];return u}(u)}b.exports=s,s.prototype.on=s.prototype.addEventListener=function(u,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(p),this},s.prototype.once=function(u,p){function o(){this.off(u,o),p.apply(this,arguments)}return o.fn=p,this.on(u,o),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(u,p){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o=this._callbacks["$"+u];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+u],this;for(var f,g=0;g<o.length;g++)if((f=o[g])===p||f.fn===p){o.splice(g,1);break}return 0===o.length&&delete this._callbacks["$"+u],this},s.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var p=new Array(arguments.length-1),o=this._callbacks["$"+u],f=1;f<arguments.length;f++)p[f-1]=arguments[f];if(o){f=0;for(var g=(o=o.slice(0)).length;f<g;++f)o[f].apply(this,p)}return this},s.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},s.prototype.hasListeners=function(u){return!!this.listeners(u).length}},69471:b=>{b.exports=function(s,a){var u=function(){};u.prototype=a.prototype,s.prototype=new u,s.prototype.constructor=s}},51455:(b,s,a)=>{s.log=function(...r){return"object"==typeof console&&console.log&&console.log(...r)},s.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+b.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;r.splice(1,0,c,"color: inherit");let n=0,t=0;r[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(t=n))}),r.splice(t,0,c)},s.save=function(r){try{r?s.storage.setItem("debug",r):s.storage.removeItem("debug")}catch(c){}},s.load=function(){let r;try{r=s.storage.getItem("debug")}catch(c){}return!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG),r},s.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch(r){}}(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.exports=a(23283)(s);const{formatters:d}=b.exports;d.j=function(r){try{return JSON.stringify(r)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}},23283:(b,s,a)=>{b.exports=function(p){function o(e){let i=0;for(let l=0;l<e.length;l++)i=(i<<5)-i+e.charCodeAt(l),i|=0;return f.colors[Math.abs(i)%f.colors.length]}function f(e){let i;function l(...v){if(!l.enabled)return;const y=l,m=Number(new Date);y.diff=m-(i||m),y.prev=i,y.curr=m,i=m,v[0]=f.coerce(v[0]),"string"!=typeof v[0]&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(w,A)=>{if("%%"===w)return w;R++;const B=f.formatters[A];return"function"==typeof B&&(w=B.call(y,v[R]),v.splice(R,1),R--),w}),f.formatArgs.call(y,v),(y.log||f.log).apply(y,v)}return l.namespace=e,l.enabled=f.enabled(e),l.useColors=f.useColors(),l.color=o(e),l.destroy=g,l.extend=h,"function"==typeof f.init&&f.init(l),f.instances.push(l),l}function g(){const e=f.instances.indexOf(this);return-1!==e&&(f.instances.splice(e,1),!0)}function h(e,i){const l=f(this.namespace+(void 0===i?":":i)+e);return l.log=this.log,l}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return f.debug=f,f.default=f,f.coerce=function(e){return e instanceof Error?e.stack||e.message:e},f.disable=function(){const e=[...f.names.map(n),...f.skips.map(n).map(i=>"-"+i)].join(",");return f.enable(""),e},f.enable=function(e){let i;f.save(e),f.names=[],f.skips=[];const l=("string"==typeof e?e:"").split(/[\s,]+/),v=l.length;for(i=0;i<v;i++)!l[i]||("-"===(e=l[i].replace(/\*/g,".*?"))[0]?f.skips.push(new RegExp("^"+e.substr(1)+"$")):f.names.push(new RegExp("^"+e+"$")));for(i=0;i<f.instances.length;i++){const y=f.instances[i];y.enabled=f.enabled(y.namespace)}},f.enabled=function(e){if("*"===e[e.length-1])return!0;let i,l;for(i=0,l=f.skips.length;i<l;i++)if(f.skips[i].test(e))return!1;for(i=0,l=f.names.length;i<l;i++)if(f.names[i].test(e))return!0;return!1},f.humanize=a(84366),Object.keys(p).forEach(e=>{f[e]=p[e]}),f.instances=[],f.names=[],f.skips=[],f.formatters={},f.selectColor=o,f.enable(f.load()),f}},60851:b=>{b.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},7410:(b,s,a)=>{b.exports=a(3213),b.exports.parser=a(92580)},3213:(b,s,a)=>{var u=a(41497),p=a(1264),o=a(51455)("engine.io-client:socket"),f=a(74068),g=a(92580),h=a(1884),d=a(13257);function r(n,t){if(!(this instanceof r))return new r(n,t);t=t||{},n&&"object"==typeof n&&(t=n,n=null),n?(n=h(n),t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)):t.host&&(t.hostname=h(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}b.exports=r,r.priorWebsocketSuccess=!1,p(r.prototype),r.protocol=g.protocol,r.Socket=r,r.Transport=a(43330),r.transports=a(41497),r.parser=a(92580),r.prototype.createTransport=function(n){o('creating transport "%s"',n);var t=function(n){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}(this.query);t.EIO=g.protocol,t.transport=n;var e=this.transportOptions[n]||{};return this.id&&(t.sid=this.id),new u[n]({query:t,socket:this,agent:e.agent||this.agent,hostname:e.hostname||this.hostname,port:e.port||this.port,secure:e.secure||this.secure,path:e.path||this.path,forceJSONP:e.forceJSONP||this.forceJSONP,jsonp:e.jsonp||this.jsonp,forceBase64:e.forceBase64||this.forceBase64,enablesXDR:e.enablesXDR||this.enablesXDR,withCredentials:e.withCredentials||this.withCredentials,timestampRequests:e.timestampRequests||this.timestampRequests,timestampParam:e.timestampParam||this.timestampParam,policyPort:e.policyPort||this.policyPort,pfx:e.pfx||this.pfx,key:e.key||this.key,passphrase:e.passphrase||this.passphrase,cert:e.cert||this.cert,ca:e.ca||this.ca,ciphers:e.ciphers||this.ciphers,rejectUnauthorized:e.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:e.perMessageDeflate||this.perMessageDeflate,extraHeaders:e.extraHeaders||this.extraHeaders,forceNode:e.forceNode||this.forceNode,localAddress:e.localAddress||this.localAddress,requestTimeout:e.requestTimeout||this.requestTimeout,protocols:e.protocols||void 0,isReactNative:this.isReactNative})},r.prototype.open=function(){var n;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))n="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}n=this.transports[0]}this.readyState="opening";try{n=this.createTransport(n)}catch(e){return this.transports.shift(),void this.open()}n.open(),this.setTransport(n)},r.prototype.setTransport=function(n){o("setting transport %s",n.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=n,n.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(n){o('probing transport "%s"',n);var t=this.createTransport(n,{probe:1}),e=!1,i=this;function l(){i.onlyBinaryUpgrades&&(e=e||!this.supportsBinary&&i.transport.supportsBinary),e||(o('probe transport "%s" opened',n),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(A){if(!e)if("pong"===A.type&&"probe"===A.data){if(o('probe transport "%s" pong',n),i.upgrading=!0,i.emit("upgrading",t),!t)return;r.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){e||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),C(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{o('probe transport "%s" failed',n);var B=new Error("probe error");B.transport=t.name,i.emit("upgradeError",B)}}))}function v(){e||(e=!0,C(),t.close(),t=null)}function y(w){var A=new Error("probe error: "+w);A.transport=t.name,v(),o('probe transport "%s" failed because of error: %s',n,w),i.emit("upgradeError",A)}function m(){y("transport closed")}function F(){y("socket closed")}function R(w){t&&w.name!==t.name&&(o('"%s" works - aborting "%s"',w.name,t.name),v())}function C(){t.removeListener("open",l),t.removeListener("error",y),t.removeListener("close",m),i.removeListener("close",F),i.removeListener("upgrading",R)}r.priorWebsocketSuccess=!1,t.once("open",l),t.once("error",y),t.once("close",m),this.once("close",F),this.once("upgrading",R),t.open()},r.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var n=0,t=this.upgrades.length;n<t;n++)this.probe(this.upgrades[n])}},r.prototype.onPacket=function(n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',n.type,n.data),this.emit("packet",n),this.emit("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=n.data,this.onError(t);break;case"message":this.emit("data",n.data),this.emit("message",n.data)}else o('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(n){this.emit("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(n){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},n||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var n=this;clearTimeout(n.pingIntervalTimer),n.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",n.pingTimeout),n.ping(),n.onHeartbeat(n.pingTimeout)},n.pingInterval)},r.prototype.ping=function(){var n=this;this.sendPacket("ping",function(){n.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(n,t,e){return this.sendPacket("message",n,t,e),this},r.prototype.sendPacket=function(n,t,e,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e=null),"closing"!==this.readyState&&"closed"!==this.readyState){(e=e||{}).compress=!1!==e.compress;var l={type:n,data:t,options:e};this.emit("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}},r.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){n.onClose("forced close"),o("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function i(){n.once("upgrade",e),n.once("upgradeError",e)}return this},r.prototype.onError=function(n){o("socket error %j",n),r.priorWebsocketSuccess=!1,this.emit("error",n),this.onClose("transport error",n)},r.prototype.onClose=function(n,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',n),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",n,t),this.writeBuffer=[],this.prevBufferLen=0)},r.prototype.filterUpgrades=function(n){for(var t=[],e=0,i=n.length;e<i;e++)~f(this.transports,n[e])&&t.push(n[e]);return t}},43330:(b,s,a)=>{var u=a(92580),p=a(1264);function o(f){this.path=f.path,this.hostname=f.hostname,this.port=f.port,this.secure=f.secure,this.query=f.query,this.timestampParam=f.timestampParam,this.timestampRequests=f.timestampRequests,this.readyState="",this.agent=f.agent||!1,this.socket=f.socket,this.enablesXDR=f.enablesXDR,this.withCredentials=f.withCredentials,this.pfx=f.pfx,this.key=f.key,this.passphrase=f.passphrase,this.cert=f.cert,this.ca=f.ca,this.ciphers=f.ciphers,this.rejectUnauthorized=f.rejectUnauthorized,this.forceNode=f.forceNode,this.isReactNative=f.isReactNative,this.extraHeaders=f.extraHeaders,this.localAddress=f.localAddress}b.exports=o,p(o.prototype),o.prototype.onError=function(f,g){var h=new Error(f);return h.type="TransportError",h.description=g,this.emit("error",h),this},o.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},o.prototype.send=function(f){if("open"!==this.readyState)throw new Error("Transport not open");this.write(f)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(f){var g=u.decodePacket(f,this.socket.binaryType);this.onPacket(g)},o.prototype.onPacket=function(f){this.emit("packet",f)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},41497:(b,s,a)=>{var u=a(23035),p=a(72889),o=a(16029),f=a(33909);s.polling=function(h){var r=!1,c=!1,n=!1!==h.jsonp;if("undefined"!=typeof location){var t="https:"===location.protocol,e=location.port;e||(e=t?443:80),r=h.hostname!==location.hostname||e!==h.port,c=h.secure!==t}if(h.xdomain=r,h.xscheme=c,"open"in new u(h)&&!h.forceJSONP)return new p(h);if(!n)throw new Error("JSONP disabled");return new o(h)},s.websocket=f},16029:(b,s,a)=>{var u=a(63904),p=a(69471),o=a(60851);b.exports=r;var h,f=/\n/g,g=/\\n/g;function d(){}function r(c){u.call(this,c),this.query=this.query||{},h||(h=o.___eio=o.___eio||[]),this.index=h.length;var n=this;h.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=d)},!1)}p(r,u),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),u.prototype.doClose.call(this)},r.prototype.doPoll=function(){var c=this,n=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.uri(),n.onerror=function(i){c.onError("jsonp poll error",i)};var t=document.getElementsByTagName("script")[0];t?t.parentNode.insertBefore(n,t):(document.head||document.body).appendChild(n),this.script=n,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var i=document.createElement("iframe");document.body.appendChild(i),document.body.removeChild(i)},100)},r.prototype.doWrite=function(c,n){var t=this;if(!this.form){var v,e=document.createElement("form"),i=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=l,e.method="POST",e.setAttribute("accept-charset","utf-8"),i.name="d",e.appendChild(i),document.body.appendChild(e),this.form=e,this.area=i}function y(){m(),n()}function m(){if(t.iframe)try{t.form.removeChild(t.iframe)}catch(R){t.onError("jsonp polling iframe removal error",R)}try{v=document.createElement('<iframe src="javascript:0" name="'+t.iframeId+'">')}catch(R){(v=document.createElement("iframe")).name=t.iframeId,v.src="javascript:0"}v.id=t.iframeId,t.form.appendChild(v),t.iframe=v}this.form.action=this.uri(),m(),c=c.replace(g,"\\\n"),this.area.value=c.replace(f,"\\n");try{this.form.submit()}catch(F){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===t.iframe.readyState&&y()}:this.iframe.onload=y}},72889:(b,s,a)=>{var u=a(23035),p=a(63904),o=a(1264),f=a(69471),g=a(51455)("engine.io-client:polling-xhr"),h=a(60851);function d(){}function r(e){if(p.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var i="https:"===location.protocol,l=location.port;l||(l=i?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||l!==e.port,this.xs=e.secure!==i}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function t(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}b.exports=r,b.exports.Request=c,f(r,p),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},r.prototype.doWrite=function(e,i){var v=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),y=this;v.on("success",i),v.on("error",function(m){y.onError("xhr post error",m)}),this.sendXhr=v},r.prototype.doPoll=function(){g("xhr poll");var e=this.request(),i=this;e.on("data",function(l){i.onData(l)}),e.on("error",function(l){i.onError("xhr poll error",l)}),this.pollXhr=e},o(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var i=this.xhr=new u(e),l=this;try{g("xhr open %s: %s",this.method,this.uri),i.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var v in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(v)&&i.setRequestHeader(v,this.extraHeaders[v])}catch(y){}if("POST"===this.method)try{i.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(y){}try{i.setRequestHeader("Accept","*/*")}catch(y){}"withCredentials"in i&&(i.withCredentials=this.withCredentials),this.requestTimeout&&(i.timeout=this.requestTimeout),this.hasXDR()?(i.onload=function(){l.onLoad()},i.onerror=function(){l.onError(i.responseText)}):i.onreadystatechange=function(){if(2===i.readyState)try{var y=i.getResponseHeader("Content-Type");(l.supportsBinary&&"application/octet-stream"===y||"application/octet-stream; charset=UTF-8"===y)&&(i.responseType="arraybuffer")}catch(m){}4===i.readyState&&(200===i.status||1223===i.status?l.onLoad():setTimeout(function(){l.onError("number"==typeof i.status?i.status:0)},0))},g("xhr data %s",this.data),i.send(this.data)}catch(y){return void setTimeout(function(){l.onError(y)},0)}"undefined"!=typeof document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,e)try{this.xhr.abort()}catch(i){}"undefined"!=typeof document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var i;try{i=this.xhr.getResponseHeader("Content-Type")}catch(l){}e=("application/octet-stream"===i||"application/octet-stream; charset=UTF-8"===i)&&this.xhr.response||this.xhr.responseText}catch(l){this.onError(l)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",t):"function"==typeof addEventListener&&addEventListener("onpagehide"in h?"pagehide":"unload",t,!1))},63904:(b,s,a)=>{var u=a(43330),p=a(13257),o=a(92580),f=a(69471),g=a(15379),h=a(51455)("engine.io-client:polling");b.exports=r;var d=null!=new(a(23035))({xdomain:!1}).responseType;function r(c){(!d||c&&c.forceBase64)&&(this.supportsBinary=!1),u.call(this,c)}f(r,u),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(c){var n=this;function t(){h("paused"),n.readyState="paused",c()}if(this.readyState="pausing",this.polling||!this.writable){var e=0;this.polling&&(h("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){h("pre-pause polling complete"),--e||t()})),this.writable||(h("we are currently writing - waiting to pause"),e++,this.once("drain",function(){h("pre-pause writing complete"),--e||t()}))}else t()},r.prototype.poll=function(){h("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(c){var n=this;h("polling got data %s",c),o.decodePayload(c,this.socket.binaryType,function(e,i,l){if("opening"===n.readyState&&n.onOpen(),"close"===e.type)return n.onClose(),!1;n.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){var c=this;function n(){h("writing close packet"),c.write([{type:"close"}])}"open"===this.readyState?(h("transport open - closing"),n()):(h("transport not open - deferring close"),this.once("open",n))},r.prototype.write=function(c){var n=this;this.writable=!1;var t=function(){n.writable=!0,n.emit("drain")};o.encodePayload(c,this.supportsBinary,function(e){n.doWrite(e,t)})},r.prototype.uri=function(){var c=this.query||{},n=this.secure?"https":"http",t="";return!1!==this.timestampRequests&&(c[this.timestampParam]=g()),!this.supportsBinary&&!c.sid&&(c.b64=1),c=p.encode(c),this.port&&("https"===n&&443!==Number(this.port)||"http"===n&&80!==Number(this.port))&&(t=":"+this.port),c.length&&(c="?"+c),n+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+t+this.path+c}},33909:(b,s,a)=>{var d,r,u=a(43330),p=a(92580),o=a(13257),f=a(69471),g=a(15379),h=a(51455)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?d=WebSocket:"undefined"!=typeof self&&(d=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{r=a(77020)}catch(t){}var c=d||r;function n(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=d&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(c=r),u.call(this,t)}b.exports=n,f(n,u),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,i={};this.isReactNative||(i.agent=this.agent,i.perMessageDeflate=this.perMessageDeflate,i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(i.headers=this.extraHeaders),this.localAddress&&(i.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new c(t,e):new c(t):new c(t,e,i)}catch(l){return this.emit("error",l)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){var e=this;this.writable=!1;for(var i=t.length,l=0,v=i;l<v;l++)!function(m){p.encodePacket(m,e.supportsBinary,function(F){if(!e.usingBrowserWebSocket){var R={};m.options&&(R.compress=m.options.compress),e.perMessageDeflate&&("string"==typeof F?Buffer.byteLength(F):F.length)<e.perMessageDeflate.threshold&&(R.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(F):e.ws.send(F,R)}catch(w){h("websocket closed before onclose event")}--i||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})}(t[l])},n.prototype.onClose=function(){u.prototype.onClose.call(this)},n.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",i="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(i=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=g()),this.supportsBinary||(t.b64=1),(t=o.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+i+this.path+t},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},23035:(b,s,a)=>{var u=a(60764),p=a(60851);b.exports=function(o){var f=o.xdomain,g=o.xscheme,h=o.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!f||u))return new XMLHttpRequest}catch(d){}try{if("undefined"!=typeof XDomainRequest&&!g&&h)return new XDomainRequest}catch(d){}if(!f)try{return new(p[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(d){}}},92580:(b,s,a)=>{var h,u=a(14871),p=a(20988),o=a(99933),f=a(88498),g=a(55407);"undefined"!=typeof ArrayBuffer&&(h=a(40390));var d="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),r="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),c=d||r;s.protocol=3;var n=s.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},t=u(n),e={type:"error",data:"parser error"},i=a(113);function R(C,w,A){for(var B=new Array(C.length),S=f(C.length,A),k=function(N,E,T){w(E,function(O,P){B[N]=P,T(O,B)})},x=0;x<C.length;x++)k(x,C[x],S)}s.encodePacket=function(C,w,A,B){"function"==typeof w&&(B=w,w=!1),"function"==typeof A&&(B=A,A=null);var S=void 0===C.data?void 0:C.data.buffer||C.data;if("undefined"!=typeof ArrayBuffer&&S instanceof ArrayBuffer)return function(C,w,A){if(!w)return s.encodeBase64Packet(C,A);var B=C.data,S=new Uint8Array(B),k=new Uint8Array(1+B.byteLength);k[0]=n[C.type];for(var x=0;x<S.length;x++)k[x+1]=S[x];return A(k.buffer)}(C,w,B);if(void 0!==i&&S instanceof i)return function(C,w,A){if(!w)return s.encodeBase64Packet(C,A);if(c)return function(C,w,A){if(!w)return s.encodeBase64Packet(C,A);var B=new FileReader;return B.onload=function(){s.encodePacket({type:C.type,data:B.result},w,!0,A)},B.readAsArrayBuffer(C.data)}(C,w,A);var B=new Uint8Array(1);return B[0]=n[C.type],A(new i([B.buffer,C.data]))}(C,w,B);if(S&&S.base64)return function(C,w){return w("b"+s.packets[C.type]+C.data.data)}(C,B);var k=n[C.type];return void 0!==C.data&&(k+=A?g.encode(String(C.data),{strict:!1}):String(C.data)),B(""+k)},s.encodeBase64Packet=function(C,w){var S,A="b"+s.packets[C.type];if(void 0!==i&&C.data instanceof i){var B=new FileReader;return B.onload=function(){var E=B.result.split(",")[1];w(A+E)},B.readAsDataURL(C.data)}try{S=String.fromCharCode.apply(null,new Uint8Array(C.data))}catch(E){for(var k=new Uint8Array(C.data),x=new Array(k.length),N=0;N<k.length;N++)x[N]=k[N];S=String.fromCharCode.apply(null,x)}return A+=btoa(S),w(A)},s.decodePacket=function(C,w,A){if(void 0===C)return e;if("string"==typeof C){if("b"===C.charAt(0))return s.decodeBase64Packet(C.substr(1),w);if(A&&!1===(C=function(C){try{C=g.decode(C,{strict:!1})}catch(w){return!1}return C}(C)))return e;var S=C.charAt(0);return Number(S)==S&&t[S]?C.length>1?{type:t[S],data:C.substring(1)}:{type:t[S]}:e}S=new Uint8Array(C)[0];var k=o(C,1);return i&&"blob"===w&&(k=new i([k])),{type:t[S],data:k}},s.decodeBase64Packet=function(C,w){var A=t[C.charAt(0)];if(!h)return{type:A,data:{base64:!0,data:C.substr(1)}};var B=h.decode(C.substr(1));return"blob"===w&&i&&(B=new i([B])),{type:A,data:B}},s.encodePayload=function(C,w,A){"function"==typeof w&&(A=w,w=null);var B=p(C);return w&&B?i&&!c?s.encodePayloadAsBlob(C,A):s.encodePayloadAsArrayBuffer(C,A):C.length?void R(C,function(x,N){s.encodePacket(x,!!B&&w,!1,function(E){N(null,function(x){return x.length+":"+x}(E))})},function(x,N){return A(N.join(""))}):A("0:")},s.decodePayload=function(C,w,A){if("string"!=typeof C)return s.decodePayloadAsBinary(C,w,A);var B;if("function"==typeof w&&(A=w,w=null),""===C)return A(e,0,1);for(var k,x,S="",N=0,E=C.length;N<E;N++){var T=C.charAt(N);if(":"===T){if(""===S||S!=(k=Number(S))||S!=(x=C.substr(N+1,k)).length)return A(e,0,1);if(x.length){if(B=s.decodePacket(x,w,!1),e.type===B.type&&e.data===B.data)return A(e,0,1);if(!1===A(B,N+k,E))return}N+=k,S=""}else S+=T}return""!==S?A(e,0,1):void 0},s.encodePayloadAsArrayBuffer=function(C,w){if(!C.length)return w(new ArrayBuffer(0));R(C,function(B,S){s.encodePacket(B,!0,!0,function(k){return S(null,k)})},function(B,S){var k=S.reduce(function(E,T){var O;return E+(O="string"==typeof T?T.length:T.byteLength).toString().length+O+2},0),x=new Uint8Array(k),N=0;return S.forEach(function(E){var T="string"==typeof E,O=E;if(T){for(var M=new Uint8Array(E.length),P=0;P<E.length;P++)M[P]=E.charCodeAt(P);O=M.buffer}x[N++]=T?0:1;var D=O.byteLength.toString();for(P=0;P<D.length;P++)x[N++]=parseInt(D[P]);for(x[N++]=255,M=new Uint8Array(O),P=0;P<M.length;P++)x[N++]=M[P]}),w(x.buffer)})},s.encodePayloadAsBlob=function(C,w){R(C,function(B,S){s.encodePacket(B,!0,!0,function(k){var x=new Uint8Array(1);if(x[0]=1,"string"==typeof k){for(var N=new Uint8Array(k.length),E=0;E<k.length;E++)N[E]=k.charCodeAt(E);k=N.buffer,x[0]=0}var O=(k instanceof ArrayBuffer?k.byteLength:k.size).toString(),P=new Uint8Array(O.length+1);for(E=0;E<O.length;E++)P[E]=parseInt(O[E]);if(P[O.length]=255,i){var D=new i([x.buffer,P.buffer,k]);S(null,D)}})},function(B,S){return w(new i(S))})},s.decodePayloadAsBinary=function(C,w,A){"function"==typeof w&&(A=w,w=null);for(var B=C,S=[];B.byteLength>0;){for(var k=new Uint8Array(B),x=0===k[0],N="",E=1;255!==k[E];E++){if(N.length>310)return A(e,0,1);N+=k[E]}B=o(B,2+N.length),N=parseInt(N);var T=o(B,0,N);if(x)try{T=String.fromCharCode.apply(null,new Uint8Array(T))}catch(D){var O=new Uint8Array(T);for(T="",E=0;E<O.length;E++)T+=String.fromCharCode(O[E])}S.push(T),B=o(B,N)}var P=S.length;S.forEach(function(D,M){A(s.decodePacket(D,w,!0),M,P)})}},14871:b=>{b.exports=Object.keys||function(a){var u=[],p=Object.prototype.hasOwnProperty;for(var o in a)p.call(a,o)&&u.push(o);return u}},55407:b=>{var r,c,n,s=String.fromCharCode;function a(e){for(var y,m,i=[],l=0,v=e.length;l<v;)(y=e.charCodeAt(l++))>=55296&&y<=56319&&l<v?56320==(64512&(m=e.charCodeAt(l++)))?i.push(((1023&y)<<10)+(1023&m)+65536):(i.push(y),l--):i.push(y);return i}function p(e,i){if(e>=55296&&e<=57343){if(i)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function o(e,i){return s(e>>i&63|128)}function f(e,i){if(0==(4294967168&e))return s(e);var l="";return 0==(4294965248&e)?l=s(e>>6&31|192):0==(4294901760&e)?(p(e,i)||(e=65533),l=s(e>>12&15|224),l+=o(e,6)):0==(4292870144&e)&&(l=s(e>>18&7|240),l+=o(e,12),l+=o(e,6)),l+s(63&e|128)}function h(){if(n>=c)throw Error("Invalid byte index");var e=255&r[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var i,m;if(n>c)throw Error("Invalid byte index");if(n==c)return!1;if(i=255&r[n],n++,0==(128&i))return i;if(192==(224&i)){if((m=(31&i)<<6|h())>=128)return m;throw Error("Invalid continuation byte")}if(224==(240&i)){if((m=(15&i)<<12|h()<<6|h())>=2048)return p(m,e)?m:65533;throw Error("Invalid continuation byte")}if(240==(248&i)&&(m=(7&i)<<18|h()<<12|h()<<6|h())>=65536&&m<=1114111)return m;throw Error("Invalid UTF-8 detected")}b.exports={version:"2.1.2",encode:function(e,i){for(var l=!1!==(i=i||{}).strict,v=a(e),y=v.length,m=-1,R="";++m<y;)R+=f(v[m],l);return R},decode:function(e,i){var l=!1!==(i=i||{}).strict;r=a(e),c=r.length,n=0;for(var y,v=[];!1!==(y=d(l));)v.push(y);return function(e){for(var v,i=e.length,l=-1,y="";++l<i;)(v=e[l])>65535&&(y+=s((v-=65536)>>>10&1023|55296),v=56320|1023&v),y+=s(v);return y}(v)}}},20988:(b,s,a)=>{var u=a(97822),p=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===p.call(Blob),f="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===p.call(File);b.exports=function g(h){if(!h||"object"!=typeof h)return!1;if(u(h)){for(var d=0,r=h.length;d<r;d++)if(g(h[d]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(h)||"function"==typeof ArrayBuffer&&h instanceof ArrayBuffer||o&&h instanceof Blob||f&&h instanceof File)return!0;if(h.toJSON&&"function"==typeof h.toJSON&&1===arguments.length)return g(h.toJSON(),!0);for(var c in h)if(Object.prototype.hasOwnProperty.call(h,c)&&g(h[c]))return!0;return!1}},97822:b=>{var s={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==s.call(a)}},60764:b=>{try{b.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(s){b.exports=!1}},74068:b=>{var s=[].indexOf;b.exports=function(a,u){if(s)return a.indexOf(u);for(var p=0;p<a.length;++p)if(a[p]===u)return p;return-1}},84366:b=>{var s=1e3,a=60*s,u=60*a,p=24*u;function r(c,n,t,e){var i=n>=1.5*t;return Math.round(c/t)+" "+e+(i?"s":"")}b.exports=function(c,n){n=n||{};var t=typeof c;if("string"===t&&c.length>0)return function(c){if(!((c=String(c)).length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(n){var t=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return t*p;case"hours":case"hour":case"hrs":case"hr":case"h":return t*u;case"minutes":case"minute":case"mins":case"min":case"m":return t*a;case"seconds":case"second":case"secs":case"sec":case"s":return t*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(c);if("number"===t&&isFinite(c))return n.long?function(c){var n=Math.abs(c);return n>=p?r(c,n,p,"day"):n>=u?r(c,n,u,"hour"):n>=a?r(c,n,a,"minute"):n>=s?r(c,n,s,"second"):c+" ms"}(c):function(c){var n=Math.abs(c);return n>=p?Math.round(c/p)+"d":n>=u?Math.round(c/u)+"h":n>=a?Math.round(c/a)+"m":n>=s?Math.round(c/s)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},13257:(b,s)=>{s.encode=function(a){var u="";for(var p in a)a.hasOwnProperty(p)&&(u.length&&(u+="&"),u+=encodeURIComponent(p)+"="+encodeURIComponent(a[p]));return u},s.decode=function(a){for(var u={},p=a.split("&"),o=0,f=p.length;o<f;o++){var g=p[o].split("=");u[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return u}},1884:b=>{var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(p){var o=p,f=p.indexOf("["),g=p.indexOf("]");-1!=f&&-1!=g&&(p=p.substring(0,f)+p.substring(f,g).replace(/:/g,";")+p.substring(g,p.length));for(var h=s.exec(p||""),d={},r=14;r--;)d[a[r]]=h[r]||"";return-1!=f&&-1!=g&&(d.source=o,d.host=d.host.substring(1,d.host.length-1).replace(/;/g,":"),d.authority=d.authority.replace("[","").replace("]","").replace(/;/g,":"),d.ipv6uri=!0),d}},50685:(b,s,a)=>{var u=a(81958),p=a(41086),o=a(82276),f=a(51455)("socket.io-client");b.exports=s=h;var g=s.managers={};function h(d,r){"object"==typeof d&&(r=d,d=void 0),r=r||{};var v,c=u(d),n=c.source,t=c.id;return r.forceNew||r["force new connection"]||!1===r.multiplex||g[t]&&c.path in g[t].nsps?(f("ignoring socket cache for %s",n),v=o(n,r)):(g[t]||(f("new io instance for %s",n),g[t]=o(n,r)),v=g[t]),c.query&&!r.query&&(r.query=c.query),v.socket(c.path,r)}s.protocol=p.protocol,s.connect=h,s.Manager=a(82276),s.Socket=a(55157)},82276:(b,s,a)=>{var u=a(7410),p=a(55157),o=a(94889),f=a(41086),g=a(41865),h=a(1213),d=a(51455)("socket.io-client:manager"),r=a(74068),c=a(62150),n=Object.prototype.hasOwnProperty;function t(e,i){if(!(this instanceof t))return new t(e,i);e&&"object"==typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",this.nsps={},this.subs=[],this.opts=i,this.reconnection(!1!==i.reconnection),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor(i.randomizationFactor||.5),this.backoff=new c({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==i.timeout?2e4:i.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var l=i.parser||f;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this.autoConnect=!1!==i.autoConnect,this.autoConnect&&this.open()}b.exports=t,t.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)n.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},t.prototype.updateSocketIds=function(){for(var e in this.nsps)n.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},t.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(t.prototype),t.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},t.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},t.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},t.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},t.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},t.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},t.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},t.prototype.open=t.prototype.connect=function(e,i){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=u(this.uri,this.opts);var l=this.engine,v=this;this.readyState="opening",this.skipReconnect=!1;var y=g(l,"open",function(){v.onopen(),e&&e()}),m=g(l,"error",function(C){if(d("connect_error"),v.cleanup(),v.readyState="closed",v.emitAll("connect_error",C),e){var w=new Error("Connection error");w.data=C,e(w)}else v.maybeReconnectOnOpen()});if(!1!==this._timeout){var F=this._timeout;d("connect attempt will timeout after %d",F);var R=setTimeout(function(){d("connect attempt timed out after %d",F),y.destroy(),l.close(),l.emit("error","timeout"),v.emitAll("connect_timeout",F)},F);this.subs.push({destroy:function(){clearTimeout(R)}})}return this.subs.push(y),this.subs.push(m),this},t.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(g(e,"data",h(this,"ondata"))),this.subs.push(g(e,"ping",h(this,"onping"))),this.subs.push(g(e,"pong",h(this,"onpong"))),this.subs.push(g(e,"error",h(this,"onerror"))),this.subs.push(g(e,"close",h(this,"onclose"))),this.subs.push(g(this.decoder,"decoded",h(this,"ondecoded")))},t.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},t.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},t.prototype.ondata=function(e){this.decoder.add(e)},t.prototype.ondecoded=function(e){this.emit("packet",e)},t.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},t.prototype.socket=function(e,i){var l=this.nsps[e];if(!l){l=new p(this,e,i),this.nsps[e]=l;var v=this;l.on("connecting",y),l.on("connect",function(){l.id=v.generateId(e)}),this.autoConnect&&y()}function y(){~r(v.connecting,l)||v.connecting.push(l)}return l},t.prototype.destroy=function(e){var i=r(this.connecting,e);~i&&this.connecting.splice(i,1),!this.connecting.length&&this.close()},t.prototype.packet=function(e){d("writing packet %j",e);var i=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),i.encoding?i.packetBuffer.push(e):(i.encoding=!0,this.encoder.encode(e,function(l){for(var v=0;v<l.length;v++)i.engine.write(l[v],e.options);i.encoding=!1,i.processPacketQueue()}))},t.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},t.prototype.cleanup=function(){d("cleanup");for(var e=this.subs.length,i=0;i<e;i++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},t.prototype.close=t.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},t.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},t.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var i=this.backoff.duration();d("will wait %dms before reconnect attempt",i),this.reconnecting=!0;var l=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(v){v?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",v.data)):(d("reconnect success"),e.onreconnect())}))},i);this.subs.push({destroy:function(){clearTimeout(l)}})}},t.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},41865:b=>{b.exports=function(a,u,p){return a.on(u,p),{destroy:function(){a.removeListener(u,p)}}}},55157:(b,s,a)=>{var u=a(41086),p=a(94889),o=a(31898),f=a(41865),g=a(1213),h=a(51455)("socket.io-client:socket"),d=a(13257),r=a(20988);b.exports=t;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},n=p.prototype.emit;function t(e,i,l){this.io=e,this.nsp=i,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},l&&l.query&&(this.query=l.query),this.io.autoConnect&&this.open()}p(t.prototype),t.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[f(e,"open",g(this,"onopen")),f(e,"packet",g(this,"onpacket")),f(e,"close",g(this,"onclose"))]}},t.prototype.open=t.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},t.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},t.prototype.emit=function(e){if(c.hasOwnProperty(e))return n.apply(this,arguments),this;var i=o(arguments),l={type:(void 0!==this.flags.binary?this.flags.binary:r(i))?u.BINARY_EVENT:u.EVENT,data:i,options:{}};return l.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof i[i.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=i.pop(),l.id=this.ids++),this.connected?this.packet(l):this.sendBuffer.push(l),this.flags={},this},t.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},t.prototype.onopen=function(){if(h("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?d.encode(this.query):this.query;h("sending connect packet with query %s",e),this.packet({type:u.CONNECT,query:e})}else this.packet({type:u.CONNECT})},t.prototype.onclose=function(e){h("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},t.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===u.ERROR&&"/"===e.nsp)switch(e.type){case u.CONNECT:this.onconnect();break;case u.EVENT:case u.BINARY_EVENT:this.onevent(e);break;case u.ACK:case u.BINARY_ACK:this.onack(e);break;case u.DISCONNECT:this.ondisconnect();break;case u.ERROR:this.emit("error",e.data)}},t.prototype.onevent=function(e){var i=e.data||[];h("emitting event %j",i),null!=e.id&&(h("attaching ack callback to event"),i.push(this.ack(e.id))),this.connected?n.apply(this,i):this.receiveBuffer.push(i)},t.prototype.ack=function(e){var i=this,l=!1;return function(){if(!l){l=!0;var v=o(arguments);h("sending ack %j",v),i.packet({type:r(v)?u.BINARY_ACK:u.ACK,id:e,data:v})}}},t.prototype.onack=function(e){var i=this.acks[e.id];"function"==typeof i?(h("calling ack %s with %j",e.id,e.data),i.apply(this,e.data),delete this.acks[e.id]):h("bad ack %s",e.id)},t.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},t.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)n.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},t.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},t.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},t.prototype.close=t.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:u.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},t.prototype.compress=function(e){return this.flags.compress=e,this},t.prototype.binary=function(e){return this.flags.binary=e,this}},81958:(b,s,a)=>{var u=a(1884),p=a(51455)("socket.io-client:url");b.exports=function(f,g){var h=f;g=g||"undefined"!=typeof location&&location,null==f&&(f=g.protocol+"//"+g.host),"string"==typeof f&&("/"===f.charAt(0)&&(f="/"===f.charAt(1)?g.protocol+f:g.host+f),/^(https?|wss?):\/\//.test(f)||(p("protocol-less url %s",f),f=void 0!==g?g.protocol+"//"+f:"https://"+f),p("parse %s",f),h=u(f)),h.port||(/^(http|ws)$/.test(h.protocol)?h.port="80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443")),h.path=h.path||"/";var r=-1!==h.host.indexOf(":")?"["+h.host+"]":h.host;return h.id=h.protocol+"://"+r+":"+h.port,h.href=h.protocol+"://"+r+(g&&g.port===h.port?"":":"+h.port),h}},94889:b=>{function s(u){if(u)return function(u){for(var p in s.prototype)u[p]=s.prototype[p];return u}(u)}b.exports=s,s.prototype.on=s.prototype.addEventListener=function(u,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(p),this},s.prototype.once=function(u,p){function o(){this.off(u,o),p.apply(this,arguments)}return o.fn=p,this.on(u,o),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(u,p){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var o=this._callbacks["$"+u];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+u],this;for(var f,g=0;g<o.length;g++)if((f=o[g])===p||f.fn===p){o.splice(g,1);break}return this},s.prototype.emit=function(u){this._callbacks=this._callbacks||{};var p=[].slice.call(arguments,1),o=this._callbacks["$"+u];if(o)for(var f=0,g=(o=o.slice(0)).length;f<g;++f)o[f].apply(this,p);return this},s.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},s.prototype.hasListeners=function(u){return!!this.listeners(u).length}},44456:b=>{var s={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==s.call(a)}},48149:b=>{var s=1e3,a=60*s,u=60*a,p=24*u;function d(r,c,n){if(!(r<c))return r<1.5*c?Math.floor(r/c)+" "+n:Math.ceil(r/c)+" "+n+"s"}b.exports=function(r,c){c=c||{};var n=typeof r;if("string"===n&&r.length>0)return function(r){if(!((r=String(r)).length>100)){var c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(c){var n=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*p;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(r);if("number"===n&&!1===isNaN(r))return c.long?function(r){return d(r,p,"day")||d(r,u,"hour")||d(r,a,"minute")||d(r,s,"second")||r+" ms"}(r):function(r){return r>=p?Math.round(r/p)+"d":r>=u?Math.round(r/u)+"h":r>=a?Math.round(r/a)+"m":r>=s?Math.round(r/s)+"s":r+"ms"}(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},23386:(b,s,a)=>{var u=a(44456),p=a(8138),o=Object.prototype.toString,f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),g="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function h(r,c){if(!r)return r;if(p(r)){var n={_placeholder:!0,num:c.length};return c.push(r),n}if(u(r)){for(var t=new Array(r.length),e=0;e<r.length;e++)t[e]=h(r[e],c);return t}if("object"==typeof r&&!(r instanceof Date)){for(var i in t={},r)t[i]=h(r[i],c);return t}return r}function d(r,c){if(!r)return r;if(r&&r._placeholder)return c[r.num];if(u(r))for(var n=0;n<r.length;n++)r[n]=d(r[n],c);else if("object"==typeof r)for(var t in r)r[t]=d(r[t],c);return r}s.deconstructPacket=function(r){var c=[],t=r;return t.data=h(r.data,c),t.attachments=c.length,{packet:t,buffers:c}},s.reconstructPacket=function(r,c){return r.data=d(r.data,c),r.attachments=void 0,r},s.removeBlobs=function(r,c){var t=0,e=r;(function n(i,l,v){if(!i)return i;if(f&&i instanceof Blob||g&&i instanceof File){t++;var y=new FileReader;y.onload=function(){v?v[l]=this.result:e=this.result,--t||c(e)},y.readAsArrayBuffer(i)}else if(u(i))for(var m=0;m<i.length;m++)n(i[m],m,i);else if("object"==typeof i&&!p(i))for(var F in i)n(i[F],F,i)})(e),t||c(e)}},41086:(b,s,a)=>{var u=a(40391)("socket.io-parser"),p=a(94889),o=a(23386),f=a(44456),g=a(8138);function h(){}s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=h,s.Decoder=t;var d=s.ERROR+'"encode error"';function r(y){var m=""+y.type;if((s.BINARY_EVENT===y.type||s.BINARY_ACK===y.type)&&(m+=y.attachments+"-"),y.nsp&&"/"!==y.nsp&&(m+=y.nsp+","),null!=y.id&&(m+=y.id),null!=y.data){var F=function(y){try{return JSON.stringify(y)}catch(m){return!1}}(y.data);if(!1===F)return d;m+=F}return u("encoded %j as %s",y,m),m}function t(){this.reconstructor=null}function l(y){this.reconPack=y,this.buffers=[]}function v(y){return{type:s.ERROR,data:"parser error: "+y}}h.prototype.encode=function(y,m){u("encoding packet %j",y),s.BINARY_EVENT===y.type||s.BINARY_ACK===y.type?function(y,m){o.removeBlobs(y,function(R){var C=o.deconstructPacket(R),w=r(C.packet),A=C.buffers;A.unshift(w),m(A)})}(y,m):m([r(y)])},p(t.prototype),t.prototype.add=function(y){var m;if("string"==typeof y)m=function(y){var m=0,F={type:Number(y.charAt(0))};if(null==s.types[F.type])return v("unknown packet type "+F.type);if(s.BINARY_EVENT===F.type||s.BINARY_ACK===F.type){for(var R="";"-"!==y.charAt(++m)&&(R+=y.charAt(m),m!=y.length););if(R!=Number(R)||"-"!==y.charAt(m))throw new Error("Illegal attachments");F.attachments=Number(R)}if("/"===y.charAt(m+1))for(F.nsp="";++m&&(","!==(C=y.charAt(m))&&(F.nsp+=C,m!==y.length)););else F.nsp="/";var w=y.charAt(m+1);if(""!==w&&Number(w)==w){for(F.id="";++m;){var C;if(null==(C=y.charAt(m))||Number(C)!=C){--m;break}if(F.id+=y.charAt(m),m===y.length)break}F.id=Number(F.id)}if(y.charAt(++m)){var A=function(y){try{return JSON.parse(y)}catch(m){return!1}}(y.substr(m));if(!1===A||F.type!==s.ERROR&&!f(A))return v("invalid payload");F.data=A}return u("decoded %s as %j",y,F),F}(y),s.BINARY_EVENT===m.type||s.BINARY_ACK===m.type?(this.reconstructor=new l(m),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",m)):this.emit("decoded",m);else{if(!g(y)&&!y.base64)throw new Error("Unknown type: "+y);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(m=this.reconstructor.takeBinaryData(y))&&(this.reconstructor=null,this.emit("decoded",m))}},t.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var m=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),m}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},8138:b=>{b.exports=function(o){return s&&Buffer.isBuffer(o)||a&&(o instanceof ArrayBuffer||function(o){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer}(o))};var s="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,a="function"==typeof ArrayBuffer},40391:(b,s,a)=>{function g(){var d;try{d=s.storage.debug}catch(r){}return!d&&"undefined"!=typeof process&&"env"in process&&(d=process.env.DEBUG),d}(s=b.exports=a(93066)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},s.formatArgs=function(d){var r=this.useColors;if(d[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+d[0]+(r?"%c ":" ")+"+"+s.humanize(this.diff),r){var c="color: "+this.color;d.splice(1,0,c,"color: inherit");var n=0,t=0;d[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(t=n))}),d.splice(t,0,c)}},s.save=function(d){try{null==d?s.storage.removeItem("debug"):s.storage.debug=d}catch(r){}},s.load=g,s.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(d){}}(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.formatters.j=function(d){try{return JSON.stringify(d)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}},s.enable(g())},93066:(b,s,a)=>{function p(r){var c;function n(){if(n.enabled){var t=n,e=+new Date,i=e-(c||e);t.diff=i,t.prev=c,t.curr=e,c=e;for(var l=new Array(arguments.length),v=0;v<l.length;v++)l[v]=arguments[v];l[0]=s.coerce(l[0]),"string"!=typeof l[0]&&l.unshift("%O");var y=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(F,R){if("%%"===F)return F;y++;var C=s.formatters[R];return"function"==typeof C&&(F=C.call(t,l[y]),l.splice(y,1),y--),F}),s.formatArgs.call(t,l);var m=n.log||s.log||console.log.bind(console);m.apply(t,l)}}return n.namespace=r,n.enabled=s.enabled(r),n.useColors=s.useColors(),n.color=function(r){var n,c=0;for(n in r)c=(c<<5)-c+r.charCodeAt(n),c|=0;return s.colors[Math.abs(c)%s.colors.length]}(r),n.destroy=o,"function"==typeof s.init&&s.init(n),s.instances.push(n),n}function o(){var r=s.instances.indexOf(this);return-1!==r&&(s.instances.splice(r,1),!0)}(s=b.exports=p.debug=p.default=p).coerce=function(r){return r instanceof Error?r.stack||r.message:r},s.disable=function(){s.enable("")},s.enable=function(r){s.save(r),s.names=[],s.skips=[];var c,n=("string"==typeof r?r:"").split(/[\s,]+/),t=n.length;for(c=0;c<t;c++)!n[c]||("-"===(r=n[c].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+r.substr(1)+"$")):s.names.push(new RegExp("^"+r+"$")));for(c=0;c<s.instances.length;c++){var e=s.instances[c];e.enabled=s.enabled(e.namespace)}},s.enabled=function(r){if("*"===r[r.length-1])return!0;var c,n;for(c=0,n=s.skips.length;c<n;c++)if(s.skips[c].test(r))return!1;for(c=0,n=s.names.length;c<n;c++)if(s.names[c].test(r))return!0;return!1},s.humanize=a(48149),s.instances=[],s.names=[],s.skips=[],s.formatters={}},31898:b=>{b.exports=function(a,u){for(var p=[],o=(u=u||0)||0;o<a.length;o++)p[o-u]=a[o];return p}},15379:b=>{"use strict";var f,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u={},p=0,o=0;function g(r){var c="";do{c=s[r%64]+c,r=Math.floor(r/64)}while(r>0);return c}function d(){var r=g(+new Date);return r!==f?(p=0,f=r):r+"."+g(p++)}for(;o<64;o++)u[s[o]]=o;d.encode=g,d.decode=function(r){var c=0;for(o=0;o<r.length;o++)c=64*c+u[r.charAt(o)];return c},b.exports=d},77020:()=>{}}]);